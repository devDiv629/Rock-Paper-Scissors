#:kivy 2.0.0
#: set back_button_radius 30

<RoundedButton@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ''
    bg_color: 48/255, 47/255, 42/255, 1
    on_press: self.bg_color = 89/255, 95/255, 105/255, 1.0
    on_touch_up: self.bg_color = 48/255, 47/255, 42/255, 1
    canvas.before:
        Color:
            rgba: self.bg_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(25)]


<MainMenu>:
    Widget:
        canvas.before:
            Rectangle:
                size: self.size
                pos: self.pos
                source: 'Images/bg.png'

        Image:
            source: 'Images/title.png'
            size: root.width, root.height / 2.5
            pos: 0, root.height - self.height

        RoundedButton:
            text: 'Play'
            color: 235/255, 240/255, 228/255
            size: dp(200), dp(50)
            center_y: root.center_y + dp(50)
            center_x: root.center_x
            on_release:
                root.manager.current = 'Select Mode'
                root.manager.transition.direction = 'left'

        RoundedButton:
            text: 'Rules'
            color: 235/255, 240/255, 228/255
            size: dp(200), dp(50)
            center_y: root.center_y - dp(25)
            center_x: root.center_x

        RoundedButton:
            text: 'Credits'
            color: 235/255, 240/255, 228/255
            size: dp(200), dp(50)
            center_y: root.center_y - dp(100)
            center_x: root.center_x

        RoundedButton:
            text: 'Quit'
            color: 235/255, 240/255, 228/255
            size: dp(200), dp(50)
            center_y: root.center_y - dp(175)
            center_x: root.center_x
            on_release: root.quit_game()


<SelectMode>:
    Widget:
        canvas.before:
            Rectangle:
                size: self.size
                pos: self.pos
                source: 'Images/bg.png'

        Button:
            background_color: 0, 0, 0, 0
            size: dp(40), dp(40)
            pos: dp(10), root.height - self.height - dp(10)
            radius: [self.width / 2]
            on_release:
                root.manager.current = 'Main Menu'
                root.manager.transition.direction = 'right'
            Image:
                source: 'Images/back_button.jpg'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: dp(40), dp(40)
                pos: dp(10), root.height - self.height - dp(10)

            RoundedButton:
                text: 'Play with Computer'
                color: 235/255, 240/255, 228/255
                size: dp(200), dp(50)
                center_y: root.center_y + dp(50)
                center_x: root.center_x
                on_release:
                    root.manager.transition.direction = 'left'
                    root.manager.current = 'One Player Name'

            RoundedButton:
                text: 'Two Player Mode'
                color: 235/255, 240/255, 228/255
                size: dp(200), dp(50)
                center_y: root.center_y - dp(25)
                center_x: root.center_x
                on_release:
                    root.manager.transition.direction = 'left'
                    root.manager.current = 'Two Player Name'


<OnePlayerName>:
    Widget:
        canvas.before:
            Rectangle:
                size: self.size
                pos: self.pos
                source: 'Images/main_menu_bg.png'
        Label:
            text: 'Enter your name'
            font_size: dp(30)
            color: (0, 0, 0, 1)
            center_x: root.center_x
            center_y: root.center_y + dp(80)

        TextInput:
            text: ''
            size: dp(300), (50)
            multiline: False
            font_size: dp(30)
            halign: 'center'
            center_x: root.center_x
            center_y: root.center_y

        RoundedButton:
            color: 0, 0, 0, 1
            size: dp(40), dp(40)
            pos: dp(10), root.height - self.height - dp(10)
            radius: [self.width / 2]
            on_release:
                root.manager.current = 'Select Mode'
                root.manager.transition.direction = 'right'
            Image:
                source: 'Images/back_button.jpg'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: dp(40), dp(40)
                pos: dp(10), root.height - self.height - dp(10)

        Button:
            size: dp(150), dp(75)
            background_color: 0, 0, 0, 0
            center_x: root.center_x
            center_y: root.center_y - 100
            Image:
                size: dp(150), dp(75)
                source: 'Images/start_game.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y


<TwoPlayerName>:
    Widget:
        Label:
            text: 'Enter 1st Player Name'
            font_size: dp(25)
            color: (0, 0, 0, 1)
            center_x: root.center_x
            center_y: root.center_y + dp(100)

        TextInput:
            text: ''
            size: dp(300), dp(50)
            multiline: False
            font_size: dp(30)
            halign: 'center'
            center_x: root.center_x
            center_y: root.center_y + dp(40)

        Label:
            text: 'Enter 2nd Player Name'
            font_size: dp(25)
            color: (0, 0, 0, 1)
            center_x: root.center_x
            center_y: root.center_y - dp(40)

        TextInput:
            text: ''
            size: dp(300), dp(50)
            multiline: False
            font_size: dp(30)
            halign: 'center'
            center_x: root.center_x
            center_y: root.center_y - dp(100)

        RoundedButton:
            color: 0, 0, 0, 1
            size: dp(40), dp(40)
            pos: dp(10), root.height - self.height - dp(10)
            radius: [self.width / 2]
            on_release:
                root.manager.current = 'Select Mode'
                root.manager.transition.direction = 'right'
            Image:
                source: 'Images/back_button.jpg'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: dp(40), dp(40)
                pos: dp(10), root.height - self.height - dp(10)

        Button:
            size: dp(150), dp(75)
            background_color: 0, 0, 0, 0
            center_x: root.center_x
            center_y: root.center_y - dp(200)
            Image:
                size: dp(150), dp(75)
                source: 'Images/start_game.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y